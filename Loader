-- Mie Hub Loader with Auto-Execute on Teleport

local GAMES = {
    -- Practical Basketball
    [8068122143] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/MieHUBER",
    [1821] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/MieHUBER",
    
    -- Ghoul Re
    [7236834599] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/GhoulRE",
    [9613] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/GhoulRE",
}

local function loadScript()
    local placeId = game.PlaceId
    local scriptUrl = GAMES[placeId]
    
    if scriptUrl then
        print("[Mie Hub] Loading script for PlaceId:", placeId)
        
        local success, result = pcall(function()
            return loadstring(game:HttpGet(scriptUrl))()
        end)
        
        if not success then
            warn("[Mie Hub] Failed to load script:", result)
        else
            print("[Mie Hub] Script loaded successfully!")
        end
    else
        warn("[Mie Hub] Game not supported. PlaceId:", placeId)
    end
end

-- Queue script to auto-execute after teleport
if queueonteleport then
    queueonteleport([[
        loadstring(game:HttpGet("https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/LOADER"))()
    ]])
    print("[Mie Hub] Auto-execute queued for next teleport")
end

-- Load script for current game
loadScript()
