-- Mie Hub Loader with Auto-Execute on Teleport

local GAMES = {
    -- Practical Basketball (Multiple PlaceIds for lobby, main game, etc.)
    [8068122143] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/MieHUBER",
    [115776365257536] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/MieHUBER", -- Lobby
    [118669925076970] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/MieHUBER", -- Main game
    
    -- Ghoul Re (Multiple PlaceIds)
    [7236834599] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/GhoulRE",
    [135836302294156] = "https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/GhoulRE", -- Lobby
    
}

local function loadScript()
    local placeId = game.PlaceId
    local scriptUrl = GAMES[placeId]
    
    print("[Mie Hub] Current PlaceId:", placeId)
    
    if scriptUrl then
        print("[Mie Hub] Loading script...")
        
        local success, result = pcall(function()
            return loadstring(game:HttpGet(scriptUrl))()
        end)
        
        if not success then
            warn("[Mie Hub] Failed to load script:", result)
        else
            print("[Mie Hub] Script loaded successfully!")
        end
    else
        warn("[Mie Hub] Game not supported. PlaceId:", placeId)
        warn("[Mie Hub] Add this PlaceId to the GAMES table!")
    end
end

-- Queue script to auto-execute after teleport
if queueonteleport then
    queueonteleport([[
        loadstring(game:HttpGet("https://raw.githubusercontent.com/troidnox/MieHub/refs/heads/main/LOADER"))()
    ]])
end

loadScript()
